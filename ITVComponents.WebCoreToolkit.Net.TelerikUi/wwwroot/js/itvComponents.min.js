kendo.culture("de-CH");var ITVenture={Lang:"de",Text:{setText:function(e,t,o){var n=e;ITVenture.Text.hasOwnProperty(n)||(ITVenture.Text[n]={}),ITVenture.Text[n][t]=o},getText:function(e,t){var o=ITVenture.Lang;return ITVenture.Text.hasOwnProperty(o)&&(!ITVenture.Text.hasOwnProperty(o)||ITVenture.Text[o].hasOwnProperty(e))||-1===o.indexOf("-")||(o=o.substr(0,o.indexOf("-"))),ITVenture.Text.hasOwnProperty(o)?ITVenture.Text.processMessage(e,ITVenture.Text[o],t):"string"==typeof t?t:e},getLocaleMessage:function(e,t){if("string"==typeof e)return ITVenture.Text.getText(e,t);if("object"==typeof e){var o=ITVenture.Lang;if(e.hasOwnProperty(o)||-1===o.indexOf("-")||(o=o.substr(0,o.indexOf("-"))),e.hasOwnProperty(o))return ITVenture.Text.processMessage("-",e[o],t)}return e},processMessage:function(e,t,o){var n=e;return"object"==typeof t&&t.hasOwnProperty(e)?n=t[e]:"string"==typeof t&&(n=t),"object"==typeof o&&(n=n.replaceAll(/\{\{\s*(?<paramName>(-\>|!$|$)?(\\\{|\\\}|[^\}\{])+)\s*\}\}/g,(function(){try{var e=arguments[arguments.length-1],t=e.paramName.replace("\\{","{").replace("\\}","}");return t.startsWith("->")||t.startsWith("$")||!o.hasOwnProperty(t)?t.startsWith("->")?ITVenture.Text.getText(t.substring(2),o):t.startsWith("!$")?new Function("return ".concat(t.substring(2)).concat(";")).apply(o):t.startsWith("$")?new Function(t.substring(1)).apply(o):t:o[t]}catch(e){return""}}))),n}},Tools:{},Pages:{},Helpers:{htmlEntities:function(e){return e.replace(/[&<>'\"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e])))},serializeArray:function(e,t){var o={};if(void 0===t||"function"==typeof t){for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]&&"_"!==n.substring(0,1)&&"dirty"!==n&&(void 0===t||t(n))){var r=e[n];r instanceof Date&&(r=r.toJSON()),o[n]=r}}else if(Array.isArray(t))for(i=0;i<t.length;i++)e.hasOwnProperty(t[i])&&(o[t[i]]=e[t[i]]);return o},serializeItemArray:function(e,t){for(var o=[],n=0;n<e.length;n++)o.push(ITVenture.Helpers.serializeArray(e[n],t));return o},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},dummyProc:function(){alert("horndampf")},getCurrentEditedModel:function(e){var t=$("#"+e).data("kendoGrid"),o=t.tbody.find("tr[class='k-grid-edit-row']");return t.dataItem(o)},ResolveUrl:function(e){return null!=e?(0===e.indexOf("~/")&&(e=ITVenture.Ajax.baseUrl+e.substring(2)),e):null},GetControllerName:function(){var e=window.location.pathname,t=ITVenture.Ajax.baseUrl.length,o=e.substring(t),n=o.indexOf("/"),r=o;return-1!==n&&-1!==n&&(r=o.substring(0,n)),r},listErrorHandler:function(e){var t=!1,o=!1;if(e.errors){var n="";$.each(e.errors,(function(e,r){t|="Error"===e,o|="EdError"===e,"errors"in r&&$.each(r.errors,(function(){n=this+"\r\n"}))})),console.log(e.sender),t&&!o?(ITVenture.Tools.Popup.Open("alert",n),this.cancelChanges()):o?ITVenture.Tools.Popup.Open("alert",n):(ITVenture.Tools.Popup.Open("alert",n),this.cancelChanges(),this.read())}},makeListErrorHandler:function(e){var t=function(e){var o=!1,n=!1;if(e.errors){var r="";if($.each(e.errors,(function(e,t){o|="Error"===e,n|="EdError"===e,"errors"in t&&$.each(t.errors,(function(){r=this+"\r\n"}))})),console.log(e.sender),o&&!n)ITVenture.Tools.Popup.Open("alert",r),this.cancelChanges();else if(n){$("#"+t.gridName).data("kendoGrid").one("dataBinding",(function(e){e.preventDefault()})),ITVenture.Tools.Popup.Open("alert",r)}else ITVenture.Tools.Popup.Open("alert",r),this.cancelChanges(),this.read()}else e.errorThrown&&(ITVenture.Tools.Popup.Open("alert",ITVenture.Text.getText("ITVHelpers_generatedLEH_FAIL","The Server reported an error. The command may have been processed incompletly.")),this.cancelChanges(),this.read())};return t.gridName=e,t}},Ajax:{baseUrl:"/",ajaxGet:function(e,t){null==t&&(t="json");var o={url:ITVenture.Helpers.ResolveUrl(e),type:"GET",dataType:t};return $.ajax(o)},ajaxPost:function(e,t,o,n){null==o&&(o="json");var r={url:ITVenture.Helpers.ResolveUrl(e),type:"POST",dataType:o,data:{data:t}};return null!=n&&(r.contentType=n),$.ajax(r)},ajaxFormPost:function(e,t,o,n){null==o&&(o="json");var r={url:ITVenture.Helpers.ResolveUrl(e),type:"POST",dataType:o,data:t};return null!=n&&(r.contentType=n),$.ajax(r)},defaultAjaxErrorHandler:function(e){var t=e.statusText;void 0!==e.status&&(t+="("+e.status+")"),ITVenture.Tools.Popup.Open("alert",t)}}};ITVenture.Tools.AssemblyAnalyzerDataSource={currentConstructors:[],rootElement:null,InitializeFor:function(e){ITVenture.Tools.AssemblyAnalyzerDataSource.rootElement=e,ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors.length=0},GetConstructors:function(e){for(var t=$(ITVenture.Tools.AssemblyAnalyzerDataSource.rootElement.find("#AllTypes")).data("kendoGrid").dataSource._data,o=0;o<t.length;o++)if(t[o].Uid===e){for(var n=[],r=t[o].Constructors,a=0;a<r.length;a++)n.push(r[a]),ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors.push(r[a]);return new kendo.data.DataSource({data:n})}return null},GetArguments:function(e){for(var t=ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors,o=0;o<t.length;o++)if(t[o].Uid===e){for(var n=[],r=t[o].Parameters,a=0;a<r.length;a++)n.push(r[a]);return new kendo.data.DataSource({data:n})}}},ITVenture.Tools.DashboardWidgets={widgets:{},addWidget:async function(e,t){ITVenture.Tools.DashboardWidgets.widgets.hasOwnProperty(e)&&delete ITVenture.Tools.DashboardWidgets.widgets[e];var o=await ITVenture.Ajax.ajaxGet("~/DBW/".concat(e),"json");o.target=t,o.lastResult={},ITVenture.Tools.DashboardWidgets.widgets[e]=o,ITVenture.Tools.DashboardWidgets.renderAllWidgets(!1)},renderWidget:async function(e,t){if(void 0===t&&(t=!0),ITVenture.Tools.DashboardWidgets.widgets.hasOwnProperty(e)){var o=ITVenture.Tools.DashboardWidgets.widgets[e],n=t?await ITVenture.Ajax.ajaxGet("~/Diagnostics/".concat(null!=o.Area&&""!==o.Area?o.Area.concat("/"):"").concat(o.QueryName).concat(null!=o.CustomQueryString&&""!==o.CustomQueryString?"?".concat(o.CustomQueryString):""),"json"):o.lastResult;o.lastResult=n;var r=ITVenture.Text.processMessage("-",o.Template,n);$(o.target).html(r)}},removeWidget:function(e){ITVenture.Tools.DashboardWidgets.widgets.hasOwnProperty(e)&&delete ITVenture.Tools.DashboardWidgets.widgets[e]},renderAllWidgets:function(e){for(var t in void 0===e&&(e=!0),ITVenture.Tools.DashboardWidgets.widgets)ITVenture.Tools.DashboardWidgets.widgets.hasOwnProperty(t)&&ITVenture.Tools.DashboardWidgets.renderWidget(t,e)},saveDashboard:async function(e){for(var t=[],o=$(e.element),n=0;n<e.items.length;n++){var r=e.items[n],a=o.find("#".concat(r.id)).find("[dashboard-id]");t.push({SortOrder:r.order,WidgetId:a.attr("dashboard-id")})}await ITVenture.Ajax.ajaxFormPost("~/DBW",JSON.stringify(t),"text","application/json")},kendoExt:{defaultHeader:'<div class="k-tilelayout-item-header k-card-header k-cursor-grab" style="margin-right:25px;"><div class="k-card-title">{{!$this.DisplayName}}</div></div><a class="k-button k-button-icon k-flat k-close-button"><span class="k-icon k-i-close"></span></a></div>',defaultBody:'<div id="DashboardItem{{!$this.DashboardWidgetId}}" dashboard-id="{{!$this.DashboardWidgetId}}" dashboard-name="{!$this.SystemName}}"></div>',closeDashboardItem:function(e){var t=$(e.currentTarget),o=t.closest(".k-tilelayout").data("kendoTileLayout"),n=t.closest(".k-tilelayout-item"),r=n.find("[dashboard-id]").attr("dashboard-name"),a=n.attr("id"),l=o.items,i=o.itemsMap[a];l.splice(l.indexOf(i),1),delete ITVenture.Tools.DashboardWidgets.widgets[r],o.setOptions({containers:l}),ITVenture.Tools.DashboardWidgets.saveDashboard(o),ITVenture.Tools.DashboardWidgets.renderAllWidgets(!1)},dashboardReorder:function(e){ITVenture.Tools.DashboardWidgets.saveDashboard(e.sender)},addDashboard:async function(e){var t=e.sender.element,o=t.attr("dropdown"),n=t.attr("dashboard"),r=$("#".concat(o)).data("kendoDropDownList"),a=$("#".concat(n)).data("kendoTileLayout"),l=r.value(),i=a.items;if(null!==l&&""!==l){var s=r.dataItem(r.selectedIndex),d=ITVenture.Text.processMessage("$",ITVenture.Tools.DashboardWidgets.kendoExt.defaultHeader,s.FullRecord),u={bodyTemplate:ITVenture.Text.processMessage("$",ITVenture.Tools.DashboardWidgets.kendoExt.defaultBody,s.FullRecord),header:{template:d},order:i.length};i.push(u),a.setOptions({containers:i}),ITVenture.Tools.DashboardWidgets.addWidget(s.FullRecord.SystemName,"#".concat("DashboardItem").concat(s.FullRecord.DashboardWidgetId)),await ITVenture.Tools.DashboardWidgets.saveDashboard(a),ITVenture.Tools.DashboardWidgets.renderAllWidgets(!1)}}}},ITVenture.Tools.Popup={dialogs:{},initialize:function(e){if(void 0===ITVenture.Tools.Popup.dialogs[e]||null===ITVenture.Tools.Popup.dialogs[e]){var t={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$("#"+e)};t=ITVenture.Tools.Popup.EnrichWindow(t),ITVenture.Tools.Popup.dialogs[e]=t}return ITVenture.Tools.Popup.dialogs[e]},FindDialog:function(e){return $($(e).parents().filter((function(e,t){return void 0!==$(t).data("itvDialog")}))[0])},Open:function(e,t,o,n){ITVenture.Tools.Popup.dialogs[e].Open(t,o,n)},Close:function(e){ITVenture.Tools.Popup.dialogs[e].Close.apply(this,Array.prototype.slice.call(arguments,1))},Accept:function(e){ITVenture.Tools.Popup.dialogs[e].Accept.apply(this,Array.prototype.slice.call(arguments,1))},EnrichWindow:function(e){return(e=$.extend(!0,{refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],activatedCallbacks:[],pressedEnterCallbacks:[],handleReturn:!1},e)).dialog=function(){return e.window.data("kendoWindow")},e.window.data("itvDialog",e),e.window.on("keydown",(function(t){"Enter"===t.key&&e.handleReturn&&e.PressedEnter(t)})),e.dialog().bind("close",(function(){var t;if(!e.accepted)for(t=0;t<e.cancelCallbacks.length;t++)e.cancelCallbacks[t](e.window,e.dialog(),e.refObj);for(t=0;t<e.closedCallbacks.length;t++)e.closedCallbacks[t](e.window,e.dialog(),e.refObj);e.refObj=null})),e.dialog().bind("activate",(function(){for(var t=0;t<e.activatedCallbacks.length;t++)e.activatedCallbacks[t](e.window,e.dialog(),e.refObj)})),e.accepted=!1,e.Close=function(t){e.accepted=t,e.dialog().close()},e.Accept=function(){for(var t=!0,o=0;o<e.acceptCallbacks.length;o++){var n=e.acceptCallbacks[o](e.window,e.dialog(),e.refObj,arguments);"boolean"==typeof n&&(t&=n)}if(t){var r=Array.prototype.slice.call(arguments,0);r.unshift(!0),e.Close.apply(this,r)}},e.Open=function(t){e.refObj=t;for(var o=0;o<e.showCallbacks.length;o++)e.showCallbacks[o](e.window,e.dialog(),e.refObj);e.dialog().open()},e.PressedEnter=function(t){for(var o=0;o<e.pressedEnterCallbacks.length;o++)e.pressedEnterCallbacks[o].apply(e,[t])},e.onAccept=function(t){"function"==typeof t&&e.acceptCallbacks.push(t)},e.onShow=function(t){"function"==typeof t&&e.showCallbacks.push(t)},e.onCancel=function(t){"function"==typeof t&&e.cancelCallbacks.push(t)},e.onClosed=function(t){"function"==typeof t&&e.closedCallbacks.push(t)},e.onActivate=function(t){"function"==typeof t&&e.activatedCallbacks.push(t)},e.onPressedEnter=function(t){"function"==typeof t&&e.pressedEnterCallbacks.push(t)},e},createConfirmPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container"><div id="AlertMessage" class="span10"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'confirm\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+'</a><a class="k-button k-button-icontext k-grid-cancel" href="#" onclick="ITVenture.Tools.Popup.Close(\'confirm\')"><span class="k-icon k-cancel" ></span>'+ITVenture.Text.getText("Popup_General_Cancel","Cancel")+"</a></div></div>"),handleReturn:!0};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Confirm_Title","Confirmation"),minWidth:400,minHeight:110,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onPressedEnter((function(e){$(e.target).hasClass("k-button")||(e.preventDefault(),ITVenture.Tools.Popup.Accept("confirm"))})),e.onShow((function(t,o,n){e.window.children("[id='AlertMessage']").html(n)}));var t=e.Open;return e.Open=function(t,o,n){e.onAccept(o),e.onCancel(n),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[]}],e.Open.oldOpen(t)},e.Open.oldOpen=t,e},createAlertPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container d-flex flex-column align-items-fill"><div id="AlertMessage"></div><div tag="buttons" class="k-edit-buttons k-state-default mt-auto p-2"></div></div>'),defaultButton:'<a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'alert\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+"</a>"};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Alert_Title","Information"),minWidth:400,minHeight:110,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onShow((function(t,o,n){if("string"==typeof n)e.window.children("[id='AlertMessage']").html(n),e.window.children("[tag='buttons']").html(e.defaultButton);else{e.window.children("[id='AlertMessage']").html(n.Message);var r="";$.each(n.Buttons,(function(e,t){r+='<a class="k-button k-button-icontext '+(t.Default?"k-primary k-grid-update":"")+'" href="#" onclick="ITVenture.Tools.Popup.'+t.Action+"('alert','"+t.ActionArgument+'\')"><span class="'+t.SpanClass+'" ></span>'+t.Text+"</a>"})),e.window.children("[tag='buttons']").html(r)}}));var t=e.Open;return e.Open=function(t,o,n){e.onAccept(o),e.onCancel(n),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[]}],e.Open.oldOpen(t)},e.Open.oldOpen=t,e},createInputPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container d-flex flex-column align-items-fill"><div id="AlertMessage"></div><div tag="cip-Content" class="flex-row d-flex"></div><div class="k-edit-buttons k-state-default mt-auto p-2"><a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'input\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+'</a><a class="k-button k-button-icontext k-grid-cancel" href="#" onclick="ITVenture.Tools.Popup.Close(\'input\')"><span class="k-icon k-cancel" ></span>'+ITVenture.Text.getText("Popup_General_Cancel","Cancel")+"</a></div></div>"),handleReturn:!0};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Input_Title","Input"),minWidth:400,minHeight:140,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onPressedEnter((function(e){$(e.target).hasClass("k-button")||(e.preventDefault(),ITVenture.Tools.Popup.Accept("input"))})),e.onShow((function(t,o,n){var r='<input id="UserInput" class="flex-fill k-textbox" />';e.mode="default","string"==typeof n?e.window.children("[id='AlertMessage']").html(n):(e.window.children("[id='AlertMessage']").html(n.Message),void 0!==n.Controls?(r=n.Controls,e.mode="custom"):e.window.find("[id='UserInput']").val(n.Default)),e.window.children("[tag='cip-Content']").html(r)}));var t=e.Open;return e.Open=function(t,o,n){e.onAccept((function(t,n,r){"default"===e.mode?o(t,n,r,t.find("#UserInput").val()):o(t,n,r,e.window.children("[tag='cip-Content']").children())})),e.onCancel(n),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[],e.window.children("[tag='cip-Content']").html("")}],e.Open.oldOpen(t),e.window.find("#UserInput").focus()},e.onActivate((function(){e.window.find("#UserInput").focus()})),e.Open.oldOpen=t,e},createPdfPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div id="viewhoster" width="100%" height="100%"></div>')};return e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_PdfView_Title","PdfView"),minWidth:1e3,minHeight:500,width:1e3,height:500,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onShow((function(t,o,n){PDFObject?PDFObject.embed(n,e.window):e.window.html('<embed src="'+n+'" id="emViewer" type="application/pdf" width="100%" height= "100%" />')})),e.onClosed((function(t,o,n){e.window.empty()})),e},createGenericPopup:function(e,t){null!=e&&""!==e||(e="genericPopupRoot"),"object"!=typeof t&&(t={visible:!1,title:"Generic Popup",minWidth:300,minHeight:100,modal:!0,position:{top:"30%",left:"30%"}});var o='<div id="'.concat(e).concat('" width="100%" height="100%"></div>'),n={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$(o)},r=n.window.kendoWindow(t).data("kendoWindow"),a=(n=ITVenture.Tools.Popup.EnrichWindow(n)).Open;return n.Open=function(e,t,o){n.onAccept(t),n.onCancel(o),n.closedCallbacks=[function(){$(n.window).html(""),"function"==typeof e.dialogClosing&&e.dialogClosing(n,r),n.acceptCallbacks=[],n.cancelCallbacks=[],n.closedCallbacks=[]}],"object"==typeof e&&"function"==typeof e.dialogOpening&&e.dialogOpening(n,r),n.Open.oldOpen(e)},n.Open.oldOpen=a,n.onShow((function(e,t,o){if("object"!=typeof o)throw"object expected!";if("string"!=typeof o.contentUrl)throw"property contentUrl expected!";ITVenture.Ajax.ajaxGet(o.contentUrl,"text").done((function(r){$(n.window).html(r),"function"==typeof o.contentReady&&o.contentReady(e,t)})).fail((function(n){"function"==typeof o.contentFailed&&o.contentFailed(e,t,n)}))})),n}},$(document).ready((function(){ITVenture.Tools.Popup.dialogs.alert=ITVenture.Tools.Popup.createAlertPopup(),ITVenture.Tools.Popup.dialogs.confirm=ITVenture.Tools.Popup.createConfirmPopup(),ITVenture.Tools.Popup.dialogs.input=ITVenture.Tools.Popup.createInputPopup(),ITVenture.Tools.Popup.dialogs.pdf=ITVenture.Tools.Popup.createPdfPopup(),ITVenture.Tools.Popup.dialogs.generic=ITVenture.Tools.Popup.createGenericPopup()})),ITVenture.Tools.DynamicData={AutoSizeColumns:function(){for(var e=0;e<this.columns.length;e++)this.autoFitColumn(e)}},ITVenture.Tools.InlineBubble={BubblePopupFor:function(e){var t=$("#".concat(e)),o=t.closest("tr"),n=o.closest(".k-grid").data("kendoGrid").dataItem(o),r=t.attr("contentProperty"),a=t.attr("bubbleStyle"),l=$(t.children()[0]),i=n[r];if(l.html(""),null!=i){var s=a,d=ITVenture.Tools.InlineBubble.GetPopupMethod(s);t.kendoTooltip({content:i,position:"right",callout:!1,show:d})}},DiagPopupFor:function(e){var t=$("#".concat(e)),o=t.closest("tr"),n=o.closest(".k-grid").data("kendoGrid").dataItem(o),r=t.attr("diagProperty"),a=$(t.children()[0]),l="",i=n[r];if(a.html(""),null!=i&&(i.hasOwnProperty("IconClass")&&a.addClass(i.IconClass),i.hasOwnProperty("IconStyle")&&a.attr("style",i.IconStyle),i.hasOwnProperty("PopupStyle")&&(l=i.PopupStyle),i.hasOwnProperty("Message"))){var s=ITVenture.Tools.InlineDiagnostics.GetPopupMethod(l);t.kendoTooltip({content:ITVenture.Text.getLocaleMessage(i.Message),position:"right",callout:!1,show:s})}},GetPopupMethod:function(e){var t=function(e){t.styled||(e.sender.popup.element.attr("style",t.popupStyle),e.sender.arrow.attr("style",t.arrowStyle),e.sender.popup.element.css("white-space","pre"),e.sender.popup.element.css("text-align","left"),t.styled=!0)};return t.popupStyle=e,t.styled=!1,t.arrowStyle="border-right-color:red",t}},ITVenture.Tools.InlineCheckboxHelper={ActivateChecks:function(e){var table=e.sender.element,data=table.data("kendoGrid").dataSource.data(),switches=$(table).find(".itv-icb-marker");$.each(switches,(function(index,item){var it=$(item),callback=ITVenture.Tools.InlineCheckboxHelper.defaultCheckedCallback,customCallback=it.attr("itvCustomChangeHandler"),readOnly=it.attr("itv-readOnly");if(readOnly="string"==typeof readOnly&&"true"===readOnly.toLowerCase(),"string"==typeof customCallback)try{customCallback=eval(customCallback),callback=customCallback}catch(e){console.log(e)}it.kendoSwitch({change:callback,enabled:!readOnly})}))}},ITVenture.Tools.InlineDiagnostics={DiagPopupFor:function(e){var t=$("#".concat(e)),o=t.closest("tr"),n=o.closest(".k-grid").data("kendoGrid").dataItem(o),r=t.attr("diagProperty"),a=$(t.children()[0]),l=n[r],i="";if(a.html(""),null!=l){4==(4&l.Result)?(a.addClass("fas fa-times-circle"),a.attr("style","color:red"),i="background-color:#b34e4d;text-shadow:0 -1px 0 #1a3c4d;color:white"):2==(2&l.Result)?(a.addClass("fas fa-exclamation-circle"),a.attr("style","color:#FACC00"),i="background-color:#c09854;text-shadow:0 -1px 0 #1a3c4d;color:white"):(a.addClass("fas fa-check-circle"),a.attr("style","color:green"),i="background-color:green;text-shadow:0 -1px 0 #1a3c4d;color:white");var s=ITVenture.Tools.InlineDiagnostics.GetPopupMethod(i);t.kendoTooltip({content:l.Message,position:"right",callout:!1,show:s})}},GetPopupMethod:function(e){var t=function(e){t.styled||(e.sender.popup.element.attr("style",t.popupStyle),e.sender.arrow.attr("style",t.arrowStyle),e.sender.popup.element.css("white-space","pre"),e.sender.popup.element.css("text-align","left"),t.styled=!0)};return t.popupStyle=e,t.styled=!1,t.arrowStyle="border-right-color:red",t}},ITVenture.Tools.ListCallbackHelper={filterScripts:{},dataCallbacks:{},currentFks:{},ResolveFk:async function(e,t,o,n,r){var a=e.concat("_").concat(t).concat("_").concat(o);return ITVenture.Tools.ListCallbackHelper.currentFks.hasOwnProperty(a)||(ITVenture.Tools.ListCallbackHelper.currentFks[a]=ITVenture.Tools.ListCallbackHelper.makeResolver(e,t,o,n,r)),await ITVenture.Tools.ListCallbackHelper.currentFks[a]},ShowPkValue:async function(e,t,o,n,r,a){var l=await ITVenture.Tools.ListCallbackHelper.ResolveFk(e,t,o,r,a);$("#".concat(n)).each((function(e){$(this).html(l)}))},normalizeFkValue:function(e){return e?.toString()?.replace(/\W/im,"_")??null},getFilterScript:function(e){var t=function(e){ITVenture.Tools.ListCallbackHelper.filterScripts[t.scriptName].apply(this,e)};return t.scriptName=e,t},makeResolver:function(e,t,o,n,r){return r=null!=r&&""!==r?"/".concat(r):"",new Promise((a=>{ITVenture.Ajax.ajaxGet("~".concat(r).concat("/ForeignKey/").concat(e).concat("/").concat(t).concat("/").concat(o),"json").done((function(e){a(null!=e?e.Label:n)}))}))},GetFkIndex:function(e){return e.split("_")[2]}},ITVenture.Tools.RowReordering={Initialize:function(e,t,o){void 0!==o&&null!=o||(o=!1);var n={afterShift:t,enabled:!1,detailRow:null,sortableTable:null,orderChanged:function(e){null!=n.detailRow&&e.item.after(n.detailRow);var t=e.sender.element.data().kendoGrid,o=e.oldIndex,r=e.newIndex,a=t.dataSource.data(),l=(t.dataSource.getByUid(e.item.data("uid")),r),i=o-1,s=1;o<r&&(l=o+1,i=r,s=-1);for(var d=l;d<=i;d++)n.afterShift(a[d],d+s),a[d].dirty=!0;n.afterShift(a[o],r),a[o].dirty=!0,"function"==typeof n.beforeSave&&n.beforeSave.apply(n),t.saveChanges(),"function"==typeof n.afterSave&&n.afterSave.apply(n)},reorderHint:function(e){var t=e.parentsUntil("div").parent();n.withDetails&&(t=t.parent());var o=(t=t.data().kendoGrid).table.clone(),r=t.wrapper.width(),a=$("<div class='k-grid k-widget'></div>").width(r);return o.find("thead").remove(),o.find("tbody").empty(),o.wrap(a),o.append(e.clone()),null!=e.next()[0]&&-1!=e.next()[0].className.indexOf("k-detail-row")&&o.append(e.next().clone()),o.parent()},reorderPlaceholder:function(e){return e.clone().addClass("k-state-hover").css("opacity",.65)},reorderEnd:function(e){n.detailRow=null,null!=e.draggableEvent.currentTarget.next()[0]&&-1!=e.draggableEvent.currentTarget.next()[0].className.indexOf("k-detail-row")&&(n.detailRow=e.draggableEvent.currentTarget.next())},reorderStart:function(e){n.enabled||e.preventDefault()},styleDraggers:function(){n.sortableTable.find(".sort-dragger").replaceWith("<span class='sort-dragger k-icon k-i-reorder'></span>")},invalid:function(){try{return!$.contains(document,n.sortableTable[0])}catch(e){}return!1}},r=$("#"+e);return n.sortableTable=r,$(n.sortableTable).data("kendoGrid").bind("cancel",(function(e){console.log(e),$(n.sortableTable).data("kendoGrid").cancelChanges()})),n.withDetails=o,n.sortable=r.kendoSortable({start:n.reorderStart,change:n.orderChanged,end:n.reorderEnd,placeholder:n.reorderPlaceholder,hint:n.reorderHint,filter:o?">div.k-grid-content>table >tbody >tr:not(.k-detail-row)":">table >tbody >tr:not(.k-detail-row)",handler:".sort-dragger",ignore:":not(.sort-dragger)"}),n}},ITVenture.Tools.TableHelper={refreshTable:function(e){e.preventDefault();for(var t=$(e.currentTarget);void 0===t.data().kendoGrid||null===t.data().kendoGrid;)t=t.parent();t.data("kendoGrid").dataSource.read()},confirmDelete:function(e){e.preventDefault();for(var t=$(e.target).closest("tr"),o=this.dataItem(t),n=$(e.currentTarget);void 0===n.data("kendoGrid")||null===n.data("kendoGrid");)n=n.parent();ITVenture.Tools.Popup.Open("confirm",ITVenture.Text.getText("TableHelp_DeleteConfirm_Body","Do you want to delete the current Record?"),(function(){var e=$(n).data("kendoGrid");e.dataSource.remove(o),e.dataSource.sync()}))},resolveFkValue:function(e,t,o){var n=o.element.find("tr[data-uid='"+e.uid+"']"),r=$.grep(o.columns,(function(e){return e.field===t}));if(1===r.length){var a=r[0],l=$.inArray(a,o.columns);if(-1!==l){var i=$(n.children("td:not([class='k-hierarchy-cell'])")[l]),s=$.grep(a.values,(function(o){return o.value===e[t]}))[0];i.html(s.text)}}},defaultCheckedCallback:function(e){var t=e.sender.element.attr("data-col-name"),o=e.sender.element.closest("tr"),n=o.closest(".k-grid").data("kendoGrid"),r=n.dataItem(o),a=e.checked;r.set(t,a),n.dataSource.sync()},defaultMultiSelectCallback:function(e){var t=e.sender.element,o=t.attr("data-col-name"),n=e.sender.element.closest("tr"),r=n.closest(".k-grid").data("kendoGrid"),a=r.dataItem(n),l=$(t).data("kendoMultiSelect").value();a.set(o,l),r.dataSource.sync()},serializeArrays:function(e){for(var t in e)if(e.hasOwnProperty(t)&&$.isArray(e[t]))for(var o=e[t],n=0;n<o.length;n++)"object"==typeof o[n]&&void 0!==o[n].Key&&(o[n]=o[n].Key)}},Dropzone.autoDiscover=!1,ITVenture.Tools.Uploader={dropzoneConfigured:!1,configureDropzone:function(){Dropzone.prototype.defaultOptions.dictDefaultMessage=ITVenture.Text.getText("Drop files here to upload"),Dropzone.prototype.defaultOptions.dictFallbackMessage=ITVenture.Text.getText("Your browser does not support drag'n'drop file uploads."),Dropzone.prototype.defaultOptions.dictFallbackText=ITVenture.Text.getText("Please use the fallback form below to upload your files like in the olden days."),Dropzone.prototype.defaultOptions.dictFileTooBig=ITVenture.Text.getText("File is too big."),Dropzone.prototype.defaultOptions.dictInvalidFileType=ITVenture.Text.getText("You can't upload files of this type."),Dropzone.prototype.defaultOptions.dictResponseError=ITVenture.Text.getText("Server responded with code"),Dropzone.prototype.defaultOptions.dictCancelUpload=ITVenture.Text.getText("Cancel upload"),Dropzone.prototype.defaultOptions.dictCancelUploadConfirmation=ITVenture.Text.getText("Are you sure you want to cancel this upload?"),Dropzone.prototype.defaultOptions.dictRemoveFile=ITVenture.Text.getText("Remove file"),Dropzone.prototype.defaultOptions.dictMaxFilesExceeded=ITVenture.Text.getText("You can not upload any more files.")},prepareUploadRegion:function(config,parent){ITVenture.Tools.Uploader.dropzoneConfigured||(ITVenture.Tools.Uploader.configureDropzone(),ITVenture.Tools.Uploader.dropzoneConfigured=!0);var getUploadedMethod=function(e){var t=e[0].attributes.nameTarget.value,o=function(t,n){o.config[o.target](n.Message,n.OriginalFileName,e,t,n),$(t.previewElement).children("div[class='dz-image']").hide(),$(t.previewElement).children("div[class='dz-success-mark']").hide(),$(t.previewElement).children("div[class='dz-error-mark']").hide(),$(t.previewElement).parent().children("div[class='dz-default dz-message']").hide(),$(t.previewElement).children("div[class='dz-details']").html("<i>"+ITVenture.Text.getText("ITVTools_Uploader_Success_Message","File successfully uploaded")+"</i>")};return o.target=t,o.config=config,o},getMultiUploadedMethod=function(e){var t=e[0].attributes.nameTarget.value,o=function(t,n){o.config[o.target](n.Message,n.OriginalFileName,e),$(t.previewElement).remove()};return o.target=t,o.config=config,o},sl=null,ml=null;null==parent?(sl=$("div[purpose='Upload']"),ml=$("div[purpose='MultiUpload']")):(sl=parent.find("div[purpose='Upload']"),ml=parent.find("div[purpose='MultiUpload']")),sl.each((function(e,f){var theHandler=getUploadedMethod($(f)),div=$(f);div.removeClass("dropzone"),div.html("<div class='dropzone'></div>");var uploadDiv=$($(f).children("div")[0]),uploadHint=div[0].attributes.uploadHint.value;if("string"==typeof uploadHint)try{uploadHint="/".concat(eval(uploadHint)(div))}catch(e){console.log(e)}else uploadHint="";var dz=uploadDiv.dropzone({url:ITVenture.Helpers.ResolveUrl("~/File/".concat(div[0].attributes.uploadModule.value).concat("/").concat(div[0].attributes.uploadReason.value).concat(uploadHint)),maxFiles:1,init:function(){this.on("success",theHandler),this.on("error",(function(e,t){$(e.previewElement).children("div[class='dz-error-message']").html("<span>"+t+"</span>")}))}}),wrapper=config[theHandler.target+"_wrapper"]={dropzone:dz,handler:theHandler};wrapper.reset=function(){wrapper.dropzone[0].dropzone.previewsContainer.children[1].remove(),$(wrapper.dropzone[0].dropzone.element).removeClass("dz-max-files-reached"),$(wrapper.dropzone[0].dropzone.element).removeClass("dz-started"),$(wrapper.dropzone[0].dropzone.element.children[0]).css("display","inline"),wrapper.dropzone[0].dropzone.files=[]},div.removeAttr("purpose"),div.data("itvUploader",wrapper)})),ml.each((function(e,t){var o=getMultiUploadedMethod($(t)),n=$(t);n.removeClass("dropzone"),n.html("<div class='dropzone'></div>");var r=$($(t).children("div")[0]),a=r.dropzone({url:ITVenture.Helpers.ResolveUrl("~/File/".concat(n[0].attributes.uploadModule.value).concat("/").concat(n[0].attributes.uploadReason.value)),maxFiles:256,init:function(){this.on("success",o),this.on("error",(function(e,t){console.log(t),$(e.previewElement).children("div[class='dz-error-message']").html("<span>"+t+"</span>")}))}});r.attr("style","width:100%;height:100%"),config[o.target+"_wrapper"]={dropzone:a,handler:o},n.removeAttr("purpose")}))},showFile:function(e){ITVenture.Tools.Popup.Open("pdf",e)}},ITVenture.Text.setText("de","Popup_General_OK","OK"),ITVenture.Text.setText("de","Popup_General_Cancel","Abbrechen"),ITVenture.Text.setText("de","Popup_Confirm_Title","Bestätigen"),ITVenture.Text.setText("de","Popup_Alert_Title","Information"),ITVenture.Text.setText("de","Popup_Input_Title","Eingabe"),ITVenture.Text.setText("de","Popup_PdfView_Title","PDF anzeigen"),ITVenture.Text.setText("de","FKHelp_Resolve_Wait","Bitte warten..."),ITVenture.Text.setText("de","TableHelp_DeleteConfirm_Body","Soll dieser Datensatz wirklich gelöscht werden?"),ITVenture.Text.setText("de","ITVHelpers_generatedLEH_FAIL","Der Server hat einen Fehler gemeldet. Der Befehl wurde möglicherweise nicht vollständig ausgeführt."),ITVenture.Text.setText("de","ITVGlobal_Disable_Reorder","Manuelle Sortierung Aus"),ITVenture.Text.setText("de","ITVGlobal_Enable_Reorder","Manuelle Sortierung Ein"),ITVenture.Text.setText("de","ITVTools_Uploader_Success_Message","Datei erfolgreich hochgeladen."),ITVenture.Text.setText("de","Drop files here to upload","Dateien zum Uploaden hier hin ziehen."),ITVenture.Text.setText("de","Your browser does not support drag'n'drop file uploads.","Ihr Browser unterstützt keine Drag&Drop Uploads."),ITVenture.Text.setText("de","Please use the fallback form below to upload your files like in the olden days.","Benutzen Sie das formular um Dateien hochzuladen."),ITVenture.Text.setText("de","File is too big.","Die Datei ist zu gross ({{filesize}}MiB). Maximale Grösse: {{maxFilesize}}MiB"),ITVenture.Text.setText("de","You can't upload files of this type.","Dieser Dateityp wird nicht unterstützt"),ITVenture.Text.setText("de","Server responded with code","Der Server hat den folgenden Fehlercode geliefert: {{statusCode}}"),ITVenture.Text.setText("de","Cancel upload","Upload abbrechen"),ITVenture.Text.setText("de","Are you sure you want to cancel this upload?","Soll der Upload wirklich abgebrochen werden?"),ITVenture.Text.setText("de","Remove file","Datei entfernen"),ITVenture.Text.setText("de","You can not upload any more files.","Sie können keine weiteren Dateien hochladen."),ITVenture.Text.setText("fr","Popup_General_OK","OK"),ITVenture.Text.setText("fr","Popup_General_Cancel","Annuler"),ITVenture.Text.setText("fr","Popup_Confirm_Title","Confirmer"),ITVenture.Text.setText("fr","Popup_Alert_Title","Informations"),ITVenture.Text.setText("fr","Popup_Input_Title","Entrée"),ITVenture.Text.setText("fr","Popup_PdfView_Title","Affichage PDF"),ITVenture.Text.setText("fr","FKHelp_Resolve_Wait","Veuillez attendre..."),ITVenture.Text.setText("fr","TableHelp_DeleteConfirm_Body","Cet enregistrement devrait-il vraiment être supprimé ?"),ITVenture.Text.setText("fr","ITVHelpers_generatedLEH_FAIL","Le serveur a signalé une erreur. Il se peut que la commande n'ait pas été entièrement exécutée."),ITVenture.Text.setText("fr","ITVGlobal_Disable_Reorder","Activer le tri manuel"),ITVenture.Text.setText("fr","ITVGlobal_Enable_Reorder","Désactiver le tri manuel"),ITVenture.Text.setText("fr","ITVTools_Uploader_Success_Message","upload réussi"),ITVenture.Text.setText("fr","Drop files here to upload","Stockez les fichiers à télécharger ici."),ITVenture.Text.setText("fr","Your browser does not support drag'n'drop file uploads.","Votre navigateur ne prend pas en charge les téléchargements par glisser-déposer."),ITVenture.Text.setText("fr","Please use the fallback form below to upload your files like in the olden days.","Utilisez le formulaire pour télécharger des fichiers."),ITVenture.Text.setText("fr","File is too big.","Le dossier est trop volumineux ({{filesize}}MiB). Taille maximale du fichier: {{maxFilesize}}MiB"),ITVenture.Text.setText("fr","You can't upload files of this type.","Ce type de fichier n'est pas pris en charge"),ITVenture.Text.setText("fr","Server responded with code","Le serveur a renvoyé le code d'erreur suivant : {{statusCode}}"),ITVenture.Text.setText("fr","Cancel upload","Annuler le téléchargement "),ITVenture.Text.setText("fr","Are you sure you want to cancel this upload?","Le téléchargement doit-il vraiment être interrompu?"),ITVenture.Text.setText("fr","Remove file","Supprimer le fichier"),ITVenture.Text.setText("fr","You can not upload any more files.","Vous ne pouvez plus télécharger de fichiers."),ITVenture.Text.setText("it","Popup_General_OK","OK"),ITVenture.Text.setText("it","Popup_General_Cancel","Annulla"),ITVenture.Text.setText("it","Popup_Confirm_Title","Confermare"),ITVenture.Text.setText("it","Popup_Alert_Title","Informazioni"),ITVenture.Text.setText("it","Popup_Input_Title","Ingresso"),ITVenture.Text.setText("it","Popup_PdfView_Title","Visualizzazione PDF"),ITVenture.Text.setText("it","FKHelp_Resolve_Wait","Aspetta, per favore..."),ITVenture.Text.setText("it","TableHelp_DeleteConfirm_Body","Questo record deve davvero essere cancellato?"),ITVenture.Text.setText("it","ITVHelpers_generatedLEH_FAIL","Il server ha segnalato un errore. Il comando potrebbe non essere stato eseguito completamente."),ITVenture.Text.setText("it","ITVGlobal_Disable_Reorder","Spegnere la selezione manuale"),ITVenture.Text.setText("it","ITVGlobal_Enable_Reorder","Attivare la selezione manuale"),ITVenture.Text.setText("it","ITVTools_Uploader_Success_Message","caricamento riuscito"),ITVenture.Text.setText("it","Drop files here to upload","Trascina i file da caricare qui."),ITVenture.Text.setText("it","Your browser does not support drag'n'drop file uploads.","Il tuo browser non supporta il Drag&Drop uploads."),ITVenture.Text.setText("it","Please use the fallback form below to upload your files like in the olden days.","Utilizzare il modulo per caricare i file."),ITVenture.Text.setText("it","File is too big.","Il file è troppo grande ({{filesize}}MiB). Dimensione massima del file: {{maxFilesize}}MiB"),ITVenture.Text.setText("it","You can't upload files of this type.","Questo tipo di file non è supportato"),ITVenture.Text.setText("it","Server responded with code","Il server ha restituito il seguente codice di errore: {{statusCode}}"),ITVenture.Text.setText("it","Cancel upload","Annulla l'upload"),ITVenture.Text.setText("it","Are you sure you want to cancel this upload?","L'upload deve davvero essere interrotto?"),ITVenture.Text.setText("it","Remove file","Rimuovi file"),ITVenture.Text.setText("it","You can not upload any more files.","Non è possibile caricare altri file."),ITVenture.Tools.AssemblyAnalyzer={CreateAnalyzerPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div id="assemblyAnalyzerRoot" width="100%" height="100%"><i>Assembly Beschreiben: </i><input id="AssemblyBox" /><a class="k-button k-button-icontext" href="#" title="Abrufen" onclick="ITVenture.Tools.AssemblyAnalyzer.renderAssemblyInfo(this);"><span class="fad fa-eye"></span>&nbsp;Abrufen</a><div id="PluginDetailInfo" /></div>')};return e.PluginDetailInfo=$(e.window.find("#PluginDetailInfo")),e.PluginTextBox=$(e.window.find("#AssemblyBox")),e.window.kendoWindow({visible:!1,title:"Assembly Analyzer",minWidth:300,minHeight:100,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onClosed((function(e,t,o){var n=e.data("itvDialog");n.PluginTextBox.val(""),n.PluginDetailInfo.html("")})),e},renderAssemblyInfo:function(e){var t=ITVenture.Tools.Popup.FindDialog(e).data("itvDialog"),o=t.PluginTextBox.val(),n=t.refObj.concat("?AssemblyName=").concat(o);ITVenture.Tools.AssemblyAnalyzerDataSource.InitializeFor(t.PluginDetailInfo),$.ajax({url:n,success:function(e){t.PluginDetailInfo.html(e)}})}},$((function(){ITVenture.Tools.Popup.dialogs.assemblyAnalyzer=ITVenture.Tools.AssemblyAnalyzer.CreateAnalyzerPopup()}));