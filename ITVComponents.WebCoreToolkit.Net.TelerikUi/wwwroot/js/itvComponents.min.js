kendo.culture("de-CH");var ITVenture={Lang:"de",Text:{setText:function(e,t,n){var o=e;ITVenture.Text.hasOwnProperty(o)||(ITVenture.Text[o]={}),ITVenture.Text[o][t]=n},getText:function(e,t){var n=ITVenture.Lang;return ITVenture.Text.hasOwnProperty(n)&&(!ITVenture.Text.hasOwnProperty(n)||ITVenture.Text[n].hasOwnProperty(e))||-1===n.indexOf("-")||(n=n.substr(0,n.indexOf("-"))),ITVenture.Text.hasOwnProperty(n)?ITVenture.Text.processMessage(e,ITVenture.Text[n],t):"string"==typeof t?t:e},getLocaleMessage:function(e,t){if("string"==typeof e)return ITVenture.Text.getText(e,t);if("object"==typeof e){var n=ITVenture.Lang;if(e.hasOwnProperty(n)||-1===n.indexOf("-")||(n=n.substr(0,n.indexOf("-"))),e.hasOwnProperty(n))return ITVenture.Text.processMessage("-",e[n],t)}return e},processMessage:function(e,t,n){var o=e;return"object"==typeof t&&t.hasOwnProperty(e)?o=t[e]:"string"==typeof t&&(o=t),"object"==typeof n&&(o=o.replaceAll(/\{\{\s*(?<paramName>(-\>)?\w+)\s*\}\}/g,(function(){var e=arguments[arguments.length-1];return!e.paramName.startsWith("->")&&n.hasOwnProperty(e.paramName)?n[e.paramName]:(e.paramName.startsWith("->")&&ITVenture.Text.getText(e.paramName.substring(2),n),e.paramName)}))),o}},Tools:{},Pages:{},Helpers:{serializeArray:function(e,t){var n={};if(void 0===t||"function"==typeof t){for(var o in e)if(e.hasOwnProperty(o)&&"function"!=typeof e[o]&&"_"!==o.substring(0,1)&&"dirty"!==o&&(void 0===t||t(o))){var r=e[o];r instanceof Date&&(r=r.toJSON()),n[o]=r}}else if(Array.isArray(t))for(i=0;i<t.length;i++)e.hasOwnProperty(t[i])&&(n[t[i]]=e[t[i]]);return n},serializeItemArray:function(e,t){for(var n=[],o=0;o<e.length;o++)n.push(ITVenture.Helpers.serializeArray(e[o],t));return n},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},dummyProc:function(){alert("horndampf")},getCurrentEditedModel:function(e){var t=$("#"+e).data("kendoGrid"),n=t.tbody.find("tr[class='k-grid-edit-row']");return t.dataItem(n)},ResolveUrl:function(e){return null!=e?(0===e.indexOf("~/")&&(e=ITVenture.Ajax.baseUrl+e.substring(2)),e):null},GetControllerName:function(){var e=window.location.pathname,t=ITVenture.Ajax.baseUrl.length,n=e.substring(t),o=n.indexOf("/"),r=n;return-1!==o&&-1!==o&&(r=n.substring(0,o)),r},listErrorHandler:function(e){var t=!1,n=!1;if(e.errors){var o="";$.each(e.errors,(function(e,r){t|="Error"===e,n|="EdError"===e,"errors"in r&&$.each(r.errors,(function(){o=this+"\r\n"}))})),console.log(e.sender),t&&!n?(ITVenture.Tools.Popup.Open("alert",o),this.cancelChanges()):n?ITVenture.Tools.Popup.Open("alert",o):(ITVenture.Tools.Popup.Open("alert",o),this.cancelChanges(),this.read())}},makeListErrorHandler:function(e){var t=function(e){var n=!1,o=!1;if(e.errors){var r="";if($.each(e.errors,(function(e,t){n|="Error"===e,o|="EdError"===e,"errors"in t&&$.each(t.errors,(function(){r=this+"\r\n"}))})),console.log(e.sender),n&&!o)ITVenture.Tools.Popup.Open("alert",r),this.cancelChanges();else if(o){$("#"+t.gridName).data("kendoGrid").one("dataBinding",(function(e){e.preventDefault()})),ITVenture.Tools.Popup.Open("alert",r)}else ITVenture.Tools.Popup.Open("alert",r),this.cancelChanges(),this.read()}else e.errorThrown&&(ITVenture.Tools.Popup.Open("alert",ITVenture.Text.getText("ITVHelpers_generatedLEH_FAIL","The Server reported an error. The command may have been processed incompletly.")),this.cancelChanges(),this.read())};return t.gridName=e,t}},Ajax:{baseUrl:"/",ajaxGet:function(e,t){null==t&&(t="json");var n={url:ITVenture.Helpers.ResolveUrl(e),type:"GET",dataType:t};return $.ajax(n)},ajaxPost:function(e,t,n,o){null==n&&(n="json");var r={url:ITVenture.Helpers.ResolveUrl(e),type:"POST",dataType:n,data:{data:t}};return null!=o&&(r.contentType=o),$.ajax(r)},ajaxFormPost:function(e,t,n,o){null==n&&(n="json");var r={url:ITVenture.Helpers.ResolveUrl(e),type:"POST",dataType:n,data:t};return null!=o&&(r.contentType=o),$.ajax(r)},defaultAjaxErrorHandler:function(e){var t=e.statusText;void 0!==e.status&&(t+="("+e.status+")"),ITVenture.Tools.Popup.Open("alert",t)}}};ITVenture.Tools.AssemblyAnalyzerDataSource={currentConstructors:[],rootElement:null,InitializeFor:function(e){ITVenture.Tools.AssemblyAnalyzerDataSource.rootElement=e,ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors.length=0},GetConstructors:function(e){for(var t=$(ITVenture.Tools.AssemblyAnalyzerDataSource.rootElement.find("#AllTypes")).data("kendoGrid").dataSource._data,n=0;n<t.length;n++)if(t[n].Uid===e){for(var o=[],r=t[n].Constructors,a=0;a<r.length;a++)o.push(r[a]),ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors.push(r[a]);return new kendo.data.DataSource({data:o})}return null},GetArguments:function(e){for(var t=ITVenture.Tools.AssemblyAnalyzerDataSource.currentConstructors,n=0;n<t.length;n++)if(t[n].Uid===e){for(var o=[],r=t[n].Parameters,a=0;a<r.length;a++)o.push(r[a]);return new kendo.data.DataSource({data:o})}}},ITVenture.Tools.Popup={dialogs:{},initialize:function(e){if(void 0===ITVenture.Tools.Popup.dialogs[e]||null===ITVenture.Tools.Popup.dialogs[e]){var t={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$("#"+e)};t=ITVenture.Tools.Popup.EnrichWindow(t),ITVenture.Tools.Popup.dialogs[e]=t}return ITVenture.Tools.Popup.dialogs[e]},FindDialog:function(e){return $($(e).parents().filter((function(e,t){return void 0!==$(t).data("itvDialog")}))[0])},Open:function(e,t,n,o){ITVenture.Tools.Popup.dialogs[e].Open(t,n,o)},Close:function(e){ITVenture.Tools.Popup.dialogs[e].Close.apply(this,Array.prototype.slice.call(arguments,1))},Accept:function(e){ITVenture.Tools.Popup.dialogs[e].Accept.apply(this,Array.prototype.slice.call(arguments,1))},EnrichWindow:function(e){return(e=$.extend(!0,{refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],activatedCallbacks:[],pressedEnterCallbacks:[],handleReturn:!1},e)).dialog=function(){return e.window.data("kendoWindow")},e.window.data("itvDialog",e),e.window.on("keydown",(function(t){"Enter"===t.key&&e.handleReturn&&e.PressedEnter(t)})),e.dialog().bind("close",(function(){var t;if(!e.accepted)for(t=0;t<e.cancelCallbacks.length;t++)e.cancelCallbacks[t](e.window,e.dialog(),e.refObj);for(t=0;t<e.closedCallbacks.length;t++)e.closedCallbacks[t](e.window,e.dialog(),e.refObj);e.refObj=null})),e.dialog().bind("activate",(function(){for(var t=0;t<e.activatedCallbacks.length;t++)e.activatedCallbacks[t](e.window,e.dialog(),e.refObj)})),e.accepted=!1,e.Close=function(t){e.accepted=t,e.dialog().close()},e.Accept=function(){for(var t=!0,n=0;n<e.acceptCallbacks.length;n++){var o=e.acceptCallbacks[n](e.window,e.dialog(),e.refObj,arguments);"boolean"==typeof o&&(t&=o)}if(t){var r=Array.prototype.slice.call(arguments,0);r.unshift(!0),e.Close.apply(this,r)}},e.Open=function(t){e.refObj=t;for(var n=0;n<e.showCallbacks.length;n++)e.showCallbacks[n](e.window,e.dialog(),e.refObj);e.dialog().open()},e.PressedEnter=function(t){for(var n=0;n<e.pressedEnterCallbacks.length;n++)e.pressedEnterCallbacks[n].apply(e,[t])},e.onAccept=function(t){"function"==typeof t&&e.acceptCallbacks.push(t)},e.onShow=function(t){"function"==typeof t&&e.showCallbacks.push(t)},e.onCancel=function(t){"function"==typeof t&&e.cancelCallbacks.push(t)},e.onClosed=function(t){"function"==typeof t&&e.closedCallbacks.push(t)},e.onActivate=function(t){"function"==typeof t&&e.activatedCallbacks.push(t)},e.onPressedEnter=function(t){"function"==typeof t&&e.pressedEnterCallbacks.push(t)},e},createConfirmPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container"><div id="AlertMessage" class="span10"></div><div class="k-edit-buttons k-state-default"><a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'confirm\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+'</a><a class="k-button k-button-icontext k-grid-cancel" href="#" onclick="ITVenture.Tools.Popup.Close(\'confirm\')"><span class="k-icon k-cancel" ></span>'+ITVenture.Text.getText("Popup_General_Cancel","Cancel")+"</a></div></div>"),handleReturn:!0};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Confirm_Title","Confirmation"),minWidth:400,minHeight:110,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onPressedEnter((function(e){$(e.target).hasClass("k-button")||(e.preventDefault(),ITVenture.Tools.Popup.Accept("confirm"))})),e.onShow((function(t,n,o){e.window.children("[id='AlertMessage']").html(o)}));var t=e.Open;return e.Open=function(t,n,o){e.onAccept(n),e.onCancel(o),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[]}],e.Open.oldOpen(t)},e.Open.oldOpen=t,e},createAlertPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container d-flex flex-column align-items-fill"><div id="AlertMessage"></div><div tag="buttons" class="k-edit-buttons k-state-default mt-auto p-2"></div></div>'),defaultButton:'<a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'alert\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+"</a>"};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Alert_Title","Information"),minWidth:400,minHeight:110,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onShow((function(t,n,o){if("string"==typeof o)e.window.children("[id='AlertMessage']").html(o),e.window.children("[tag='buttons']").html(e.defaultButton);else{e.window.children("[id='AlertMessage']").html(o.Message);var r="";$.each(o.Buttons,(function(e,t){r+='<a class="k-button k-button-icontext '+(t.Default?"k-primary k-grid-update":"")+'" href="#" onclick="ITVenture.Tools.Popup.'+t.Action+"('alert','"+t.ActionArgument+'\')"><span class="'+t.SpanClass+'" ></span>'+t.Text+"</a>"})),e.window.children("[tag='buttons']").html(r)}}));var t=e.Open;return e.Open=function(t,n,o){e.onAccept(n),e.onCancel(o),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[]}],e.Open.oldOpen(t)},e.Open.oldOpen=t,e},createInputPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div class="k-edit-form-container d-flex flex-column align-items-fill"><div id="AlertMessage"></div><div tag="cip-Content" class="flex-row d-flex"></div><div class="k-edit-buttons k-state-default mt-auto p-2"><a class="k-button k-button-icontext k-primary k-grid-update" href="#" onclick="ITVenture.Tools.Popup.Accept(\'input\')"><span class="k-icon k-update" ></span>'+ITVenture.Text.getText("Popup_General_OK","Ok")+'</a><a class="k-button k-button-icontext k-grid-cancel" href="#" onclick="ITVenture.Tools.Popup.Close(\'input\')"><span class="k-icon k-cancel" ></span>'+ITVenture.Text.getText("Popup_General_Cancel","Cancel")+"</a></div></div>"),handleReturn:!0};e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_Input_Title","Input"),minWidth:400,minHeight:140,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onPressedEnter((function(e){$(e.target).hasClass("k-button")||(e.preventDefault(),ITVenture.Tools.Popup.Accept("input"))})),e.onShow((function(t,n,o){var r='<input id="UserInput" class="flex-fill k-textbox" />';e.mode="default","string"==typeof o?e.window.children("[id='AlertMessage']").html(o):(e.window.children("[id='AlertMessage']").html(o.Message),void 0!==o.Controls?(r=o.Controls,e.mode="custom"):e.window.find("[id='UserInput']").val(o.Default)),e.window.children("[tag='cip-Content']").html(r)}));var t=e.Open;return e.Open=function(t,n,o){e.onAccept((function(t,o,r){"default"===e.mode?n(t,o,r,t.find("#UserInput").val()):n(t,o,r,e.window.children("[tag='cip-Content']").children())})),e.onCancel(o),e.closedCallbacks=[function(){e.acceptCallbacks=[],e.cancelCallbacks=[],e.closedCallbacks=[],e.window.children("[tag='cip-Content']").html("")}],e.Open.oldOpen(t),e.window.find("#UserInput").focus()},e.onActivate((function(){e.window.find("#UserInput").focus()})),e.Open.oldOpen=t,e},createPdfPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div id="viewhoster" width="100%" height="100%"></div>')};return e.window.kendoWindow({visible:!1,title:ITVenture.Text.getText("Popup_PdfView_Title","PdfView"),minWidth:1e3,minHeight:500,width:1e3,height:500,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onShow((function(t,n,o){PDFObject?PDFObject.embed(o,e.window):e.window.html('<embed src="'+o+'" id="emViewer" type="application/pdf" width="100%" height= "100%" />')})),e.onClosed((function(t,n,o){e.window.empty()})),e},createGenericPopup:function(e,t){null!=e&&""!==e||(e="genericPopupRoot"),"object"!=typeof t&&(t={visible:!1,title:"Generic Popup",minWidth:300,minHeight:100,modal:!0,position:{top:"30%",left:"30%"}});var n='<div id="'.concat(e).concat('" width="100%" height="100%"></div>'),o={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$(n)},r=o.window.kendoWindow(t).data("kendoWindow"),a=(o=ITVenture.Tools.Popup.EnrichWindow(o)).Open;return o.Open=function(e,t,n){o.onAccept(t),o.onCancel(n),o.closedCallbacks=[function(){$(o.window).html(""),"function"==typeof e.dialogClosing&&e.dialogClosing(o,r),o.acceptCallbacks=[],o.cancelCallbacks=[],o.closedCallbacks=[]}],"object"==typeof e&&"function"==typeof e.dialogOpening&&e.dialogOpening(o,r),o.Open.oldOpen(e)},o.Open.oldOpen=a,o.onShow((function(e,t,n){if("object"!=typeof n)throw"object expected!";if("string"!=typeof n.contentUrl)throw"property contentUrl expected!";ITVenture.Ajax.ajaxGet(n.contentUrl,"text").done((function(r){$(o.window).html(r),"function"==typeof n.contentReady&&n.contentReady(e,t)})).fail((function(o){"function"==typeof n.contentFailed&&n.contentFailed(e,t,o)}))})),o}},$(document).ready((function(){ITVenture.Tools.Popup.dialogs.alert=ITVenture.Tools.Popup.createAlertPopup(),ITVenture.Tools.Popup.dialogs.confirm=ITVenture.Tools.Popup.createConfirmPopup(),ITVenture.Tools.Popup.dialogs.input=ITVenture.Tools.Popup.createInputPopup(),ITVenture.Tools.Popup.dialogs.pdf=ITVenture.Tools.Popup.createPdfPopup(),ITVenture.Tools.Popup.dialogs.generic=ITVenture.Tools.Popup.createGenericPopup()})),ITVenture.Tools.DynamicData={AutoSizeColumns:function(){for(var e=0;e<this.columns.length;e++)this.autoFitColumn(e)}},ITVenture.Tools.InlineBubble={BubblePopupFor:function(e){var t=$("#".concat(e)),n=t.closest("tr"),o=n.closest(".k-grid").data("kendoGrid").dataItem(n),r=t.attr("contentProperty"),a=t.attr("bubbleStyle"),l=$(t.children()[0]),i=o[r];if(l.html(""),null!=i){var s=a,c=ITVenture.Tools.InlineBubble.GetPopupMethod(s);t.kendoTooltip({content:i,position:"right",callout:!1,show:c})}},DiagPopupFor:function(e){var t=$("#".concat(e)),n=t.closest("tr"),o=n.closest(".k-grid").data("kendoGrid").dataItem(n),r=t.attr("diagProperty"),a=$(t.children()[0]),l="",i=o[r];if(a.html(""),null!=i&&(i.hasOwnProperty("IconClass")&&a.addClass(i.IconClass),i.hasOwnProperty("IconStyle")&&a.attr("style",i.IconStyle),i.hasOwnProperty("PopupStyle")&&(l=i.PopupStyle),i.hasOwnProperty("Message"))){var s=ITVenture.Tools.InlineDiagnostics.GetPopupMethod(l);t.kendoTooltip({content:ITVenture.Text.getLocaleMessage(i.Message),position:"right",callout:!1,show:s})}},GetPopupMethod:function(e){var t=function(e){t.styled||(e.sender.popup.element.attr("style",t.popupStyle),e.sender.arrow.attr("style",t.arrowStyle),e.sender.popup.element.css("white-space","pre"),e.sender.popup.element.css("text-align","left"),t.styled=!0)};return t.popupStyle=e,t.styled=!1,t.arrowStyle="border-right-color:red",t}},ITVenture.Tools.InlineCheckboxHelper={ActivateChecks:function(e){var table=e.sender.element,data=table.data("kendoGrid").dataSource.data(),switches=$(table).find(".itv-icb-marker");$.each(switches,(function(index,item){var it=$(item),callback=ITVenture.Tools.InlineCheckboxHelper.defaultCheckedCallback,customCallback=it.attr("itvCustomChangeHandler"),readOnly=it.attr("itv-readOnly");if(readOnly="string"==typeof readOnly&&"true"===readOnly.toLowerCase(),"string"==typeof customCallback)try{customCallback=eval(customCallback),callback=customCallback}catch(e){console.log(e)}it.kendoSwitch({change:callback,enabled:!readOnly})}))}},ITVenture.Tools.InlineDiagnostics={DiagPopupFor:function(e){var t=$("#".concat(e)),n=t.closest("tr"),o=n.closest(".k-grid").data("kendoGrid").dataItem(n),r=t.attr("diagProperty"),a=$(t.children()[0]),l=o[r],i="";if(a.html(""),null!=l){4==(4&l.Result)?(a.addClass("fas fa-times-circle"),a.attr("style","color:red"),i="background-color:#b34e4d;text-shadow:0 -1px 0 #1a3c4d;color:white"):2==(2&l.Result)?(a.addClass("fas fa-exclamation-circle"),a.attr("style","color:#FACC00"),i="background-color:#c09854;text-shadow:0 -1px 0 #1a3c4d;color:white"):(a.addClass("fas fa-check-circle"),a.attr("style","color:green"),i="background-color:green;text-shadow:0 -1px 0 #1a3c4d;color:white");var s=ITVenture.Tools.InlineDiagnostics.GetPopupMethod(i);t.kendoTooltip({content:l.Message,position:"right",callout:!1,show:s})}},GetPopupMethod:function(e){var t=function(e){t.styled||(e.sender.popup.element.attr("style",t.popupStyle),e.sender.arrow.attr("style",t.arrowStyle),e.sender.popup.element.css("white-space","pre"),e.sender.popup.element.css("text-align","left"),t.styled=!0)};return t.popupStyle=e,t.styled=!1,t.arrowStyle="border-right-color:red",t}},ITVenture.Tools.ListCallbackHelper={filterScripts:{},dataCallbacks:{},currentFks:{},ResolveFk:async function(e,t,n,o,r){var a=e.concat("_").concat(t).concat("_").concat(n);return ITVenture.Tools.ListCallbackHelper.currentFks.hasOwnProperty(a)||(ITVenture.Tools.ListCallbackHelper.currentFks[a]=ITVenture.Tools.ListCallbackHelper.makeResolver(e,t,n,o,r)),await ITVenture.Tools.ListCallbackHelper.currentFks[a]},ShowPkValue:async function(e,t,n,o,r,a){var l=await ITVenture.Tools.ListCallbackHelper.ResolveFk(e,t,n,r,a);$("#".concat(o)).each((function(e){$(this).html(l)}))},normalizeFkValue:function(e){return e?.toString()?.replace(/\W/im,"_")??null},getFilterScript:function(e){var t=function(e){ITVenture.Tools.ListCallbackHelper.filterScripts[t.scriptName].apply(this,e)};return t.scriptName=e,t},makeResolver:function(e,t,n,o,r){return r=null!=r&&""!==r?"/".concat(r):"",new Promise((a=>{ITVenture.Ajax.ajaxGet("~".concat(r).concat("/ForeignKey/").concat(e).concat("/").concat(t).concat("/").concat(n),"json").done((function(e){a(null!=e?e.Label:o)}))}))},GetFkIndex:function(e){return e.split("_")[2]}},ITVenture.Tools.RowReordering={Initialize:function(e,t,n){void 0!==n&&null!=n||(n=!1);var o={afterShift:t,enabled:!1,detailRow:null,sortableTable:null,orderChanged:function(e){null!=o.detailRow&&e.item.after(o.detailRow);var t=e.sender.element.data().kendoGrid,n=e.oldIndex,r=e.newIndex,a=t.dataSource.data(),l=(t.dataSource.getByUid(e.item.data("uid")),r),i=n-1,s=1;n<r&&(l=n+1,i=r,s=-1);for(var c=l;c<=i;c++)o.afterShift(a[c],c+s),a[c].dirty=!0;o.afterShift(a[n],r),a[n].dirty=!0,"function"==typeof o.beforeSave&&o.beforeSave.apply(o),t.saveChanges(),"function"==typeof o.afterSave&&o.afterSave.apply(o)},reorderHint:function(e){var t=e.parentsUntil("div").parent();o.withDetails&&(t=t.parent());var n=(t=t.data().kendoGrid).table.clone(),r=t.wrapper.width(),a=$("<div class='k-grid k-widget'></div>").width(r);return n.find("thead").remove(),n.find("tbody").empty(),n.wrap(a),n.append(e.clone()),null!=e.next()[0]&&-1!=e.next()[0].className.indexOf("k-detail-row")&&n.append(e.next().clone()),n.parent()},reorderPlaceholder:function(e){return e.clone().addClass("k-state-hover").css("opacity",.65)},reorderEnd:function(e){o.detailRow=null,null!=e.draggableEvent.currentTarget.next()[0]&&-1!=e.draggableEvent.currentTarget.next()[0].className.indexOf("k-detail-row")&&(o.detailRow=e.draggableEvent.currentTarget.next())},reorderStart:function(e){o.enabled||e.preventDefault()},styleDraggers:function(){o.sortableTable.find(".sort-dragger").replaceWith("<span class='sort-dragger k-icon k-i-reorder'></span>")},invalid:function(){try{return!$.contains(document,o.sortableTable[0])}catch(e){}return!1}},r=$("#"+e);return o.sortableTable=r,$(o.sortableTable).data("kendoGrid").bind("cancel",(function(e){console.log(e),$(o.sortableTable).data("kendoGrid").cancelChanges()})),o.withDetails=n,o.sortable=r.kendoSortable({start:o.reorderStart,change:o.orderChanged,end:o.reorderEnd,placeholder:o.reorderPlaceholder,hint:o.reorderHint,filter:n?">div.k-grid-content>table >tbody >tr:not(.k-detail-row)":">table >tbody >tr:not(.k-detail-row)",handler:".sort-dragger",ignore:":not(.sort-dragger)"}),o}},ITVenture.Tools.TableHelper={refreshTable:function(e){e.preventDefault();for(var t=$(e.currentTarget);void 0===t.data().kendoGrid||null===t.data().kendoGrid;)t=t.parent();t.data("kendoGrid").dataSource.read()},confirmDelete:function(e){e.preventDefault();for(var t=$(e.target).closest("tr"),n=this.dataItem(t),o=$(e.currentTarget);void 0===o.data("kendoGrid")||null===o.data("kendoGrid");)o=o.parent();ITVenture.Tools.Popup.Open("confirm",ITVenture.Text.getText("TableHelp_DeleteConfirm_Body","Do you want to delete the current Record?"),(function(){var e=$(o).data("kendoGrid");e.dataSource.remove(n),e.dataSource.sync()}))},resolveFkValue:function(e,t,n){var o=n.element.find("tr[data-uid='"+e.uid+"']"),r=$.grep(n.columns,(function(e){return e.field===t}));if(1===r.length){var a=r[0],l=$.inArray(a,n.columns);if(-1!==l){var i=$(o.children("td:not([class='k-hierarchy-cell'])")[l]),s=$.grep(a.values,(function(n){return n.value===e[t]}))[0];i.html(s.text)}}},defaultCheckedCallback:function(e){var t=e.sender.element.attr("data-col-name"),n=e.sender.element.closest("tr"),o=n.closest(".k-grid").data("kendoGrid"),r=o.dataItem(n),a=e.checked;r.set(t,a),o.dataSource.sync()},defaultMultiSelectCallback:function(e){var t=e.sender.element,n=t.attr("data-col-name"),o=e.sender.element.closest("tr"),r=o.closest(".k-grid").data("kendoGrid"),a=r.dataItem(o),l=$(t).data("kendoMultiSelect").value();a.set(n,l),r.dataSource.sync()},serializeArrays:function(e){for(var t in e)if(e.hasOwnProperty(t)&&$.isArray(e[t]))for(var n=e[t],o=0;o<n.length;o++)"object"==typeof n[o]&&void 0!==n[o].Key&&(n[o]=n[o].Key)}},Dropzone.autoDiscover=!1,ITVenture.Tools.Uploader={dropzoneConfigured:!1,configureDropzone:function(){Dropzone.prototype.defaultOptions.dictDefaultMessage=ITVenture.Text.getText("Drop files here to upload"),Dropzone.prototype.defaultOptions.dictFallbackMessage=ITVenture.Text.getText("Your browser does not support drag'n'drop file uploads."),Dropzone.prototype.defaultOptions.dictFallbackText=ITVenture.Text.getText("Please use the fallback form below to upload your files like in the olden days."),Dropzone.prototype.defaultOptions.dictFileTooBig=ITVenture.Text.getText("File is too big."),Dropzone.prototype.defaultOptions.dictInvalidFileType=ITVenture.Text.getText("You can't upload files of this type."),Dropzone.prototype.defaultOptions.dictResponseError=ITVenture.Text.getText("Server responded with code"),Dropzone.prototype.defaultOptions.dictCancelUpload=ITVenture.Text.getText("Cancel upload"),Dropzone.prototype.defaultOptions.dictCancelUploadConfirmation=ITVenture.Text.getText("Are you sure you want to cancel this upload?"),Dropzone.prototype.defaultOptions.dictRemoveFile=ITVenture.Text.getText("Remove file"),Dropzone.prototype.defaultOptions.dictMaxFilesExceeded=ITVenture.Text.getText("You can not upload any more files.")},prepareUploadRegion:function(config,parent){ITVenture.Tools.Uploader.dropzoneConfigured||(ITVenture.Tools.Uploader.configureDropzone(),ITVenture.Tools.Uploader.dropzoneConfigured=!0);var getUploadedMethod=function(e){var t=e[0].attributes.nameTarget.value,n=function(t,o){n.config[n.target](o.Message,o.OriginalFileName,e,t,o),$(t.previewElement).children("div[class='dz-image']").hide(),$(t.previewElement).children("div[class='dz-success-mark']").hide(),$(t.previewElement).children("div[class='dz-error-mark']").hide(),$(t.previewElement).parent().children("div[class='dz-default dz-message']").hide(),$(t.previewElement).children("div[class='dz-details']").html("<i>"+ITVenture.Text.getText("ITVTools_Uploader_Success_Message","File successfully uploaded")+"</i>")};return n.target=t,n.config=config,n},getMultiUploadedMethod=function(e){var t=e[0].attributes.nameTarget.value,n=function(t,o){n.config[n.target](o.Message,o.OriginalFileName,e),$(t.previewElement).remove()};return n.target=t,n.config=config,n},sl=null,ml=null;null==parent?(sl=$("div[purpose='Upload']"),ml=$("div[purpose='MultiUpload']")):(sl=parent.find("div[purpose='Upload']"),ml=parent.find("div[purpose='MultiUpload']")),sl.each((function(e,f){var theHandler=getUploadedMethod($(f)),div=$(f);div.removeClass("dropzone"),div.html("<div class='dropzone'></div>");var uploadDiv=$($(f).children("div")[0]),uploadHint=div[0].attributes.uploadHint.value;if("string"==typeof uploadHint)try{uploadHint="/".concat(eval(uploadHint)(div))}catch(e){console.log(e)}else uploadHint="";var dz=uploadDiv.dropzone({url:ITVenture.Helpers.ResolveUrl("~/File/".concat(div[0].attributes.uploadModule.value).concat("/").concat(div[0].attributes.uploadReason.value).concat(uploadHint)),maxFiles:1,init:function(){this.on("success",theHandler),this.on("error",(function(e,t){$(e.previewElement).children("div[class='dz-error-message']").html("<span>"+t+"</span>")}))}}),wrapper=config[theHandler.target+"_wrapper"]={dropzone:dz,handler:theHandler};wrapper.reset=function(){wrapper.dropzone[0].dropzone.previewsContainer.children[1].remove(),$(wrapper.dropzone[0].dropzone.element).removeClass("dz-max-files-reached"),$(wrapper.dropzone[0].dropzone.element).removeClass("dz-started"),$(wrapper.dropzone[0].dropzone.element.children[0]).css("display","inline"),wrapper.dropzone[0].dropzone.files=[]},div.removeAttr("purpose"),div.data("itvUploader",wrapper)})),ml.each((function(e,t){var n=getMultiUploadedMethod($(t)),o=$(t);o.removeClass("dropzone"),o.html("<div class='dropzone'></div>");var r=$($(t).children("div")[0]),a=r.dropzone({url:ITVenture.Helpers.ResolveUrl("~/File/".concat(o[0].attributes.uploadModule.value).concat("/").concat(o[0].attributes.uploadReason.value)),maxFiles:256,init:function(){this.on("success",n),this.on("error",(function(e,t){console.log(t),$(e.previewElement).children("div[class='dz-error-message']").html("<span>"+t+"</span>")}))}});r.attr("style","width:100%;height:100%"),config[n.target+"_wrapper"]={dropzone:a,handler:n},o.removeAttr("purpose")}))},showFile:function(e){ITVenture.Tools.Popup.Open("pdf",e)}},ITVenture.Text.setText("de","Popup_General_OK","OK"),ITVenture.Text.setText("de","Popup_General_Cancel","Abbrechen"),ITVenture.Text.setText("de","Popup_Confirm_Title","Bestätigen"),ITVenture.Text.setText("de","Popup_Alert_Title","Information"),ITVenture.Text.setText("de","Popup_Input_Title","Eingabe"),ITVenture.Text.setText("de","Popup_PdfView_Title","PDF anzeigen"),ITVenture.Text.setText("de","FKHelp_Resolve_Wait","Bitte warten..."),ITVenture.Text.setText("de","TableHelp_DeleteConfirm_Body","Soll dieser Datensatz wirklich gelöscht werden?"),ITVenture.Text.setText("de","ITVHelpers_generatedLEH_FAIL","Der Server hat einen Fehler gemeldet. Der Befehl wurde möglicherweise nicht vollständig ausgeführt."),ITVenture.Text.setText("de","ITVGlobal_Disable_Reorder","Manuelle Sortierung Aus"),ITVenture.Text.setText("de","ITVGlobal_Enable_Reorder","Manuelle Sortierung Ein"),ITVenture.Text.setText("de","ITVTools_Uploader_Success_Message","Datei erfolgreich hochgeladen."),ITVenture.Text.setText("de","Drop files here to upload","Dateien zum Uploaden hier hin ziehen."),ITVenture.Text.setText("de","Your browser does not support drag'n'drop file uploads.","Ihr Browser unterstützt keine Drag&Drop Uploads."),ITVenture.Text.setText("de","Please use the fallback form below to upload your files like in the olden days.","Benutzen Sie das formular um Dateien hochzuladen."),ITVenture.Text.setText("de","File is too big.","Die Datei ist zu gross ({{filesize}}MiB). Maximale Grösse: {{maxFilesize}}MiB"),ITVenture.Text.setText("de","You can't upload files of this type.","Dieser Dateityp wird nicht unterstützt"),ITVenture.Text.setText("de","Server responded with code","Der Server hat den folgenden Fehlercode geliefert: {{statusCode}}"),ITVenture.Text.setText("de","Cancel upload","Upload abbrechen"),ITVenture.Text.setText("de","Are you sure you want to cancel this upload?","Soll der Upload wirklich abgebrochen werden?"),ITVenture.Text.setText("de","Remove file","Datei entfernen"),ITVenture.Text.setText("de","You can not upload any more files.","Sie können keine weiteren Dateien hochladen."),ITVenture.Text.setText("fr","Popup_General_OK","OK"),ITVenture.Text.setText("fr","Popup_General_Cancel","Annuler"),ITVenture.Text.setText("fr","Popup_Confirm_Title","Confirmer"),ITVenture.Text.setText("fr","Popup_Alert_Title","Informations"),ITVenture.Text.setText("fr","Popup_Input_Title","Entrée"),ITVenture.Text.setText("fr","Popup_PdfView_Title","Affichage PDF"),ITVenture.Text.setText("fr","FKHelp_Resolve_Wait","Veuillez attendre..."),ITVenture.Text.setText("fr","TableHelp_DeleteConfirm_Body","Cet enregistrement devrait-il vraiment être supprimé ?"),ITVenture.Text.setText("fr","ITVHelpers_generatedLEH_FAIL","Le serveur a signalé une erreur. Il se peut que la commande n'ait pas été entièrement exécutée."),ITVenture.Text.setText("fr","ITVGlobal_Disable_Reorder","Activer le tri manuel"),ITVenture.Text.setText("fr","ITVGlobal_Enable_Reorder","Désactiver le tri manuel"),ITVenture.Text.setText("fr","ITVTools_Uploader_Success_Message","upload réussi"),ITVenture.Text.setText("fr","Drop files here to upload","Stockez les fichiers à télécharger ici."),ITVenture.Text.setText("fr","Your browser does not support drag'n'drop file uploads.","Votre navigateur ne prend pas en charge les téléchargements par glisser-déposer."),ITVenture.Text.setText("fr","Please use the fallback form below to upload your files like in the olden days.","Utilisez le formulaire pour télécharger des fichiers."),ITVenture.Text.setText("fr","File is too big.","Le dossier est trop volumineux ({{filesize}}MiB). Taille maximale du fichier: {{maxFilesize}}MiB"),ITVenture.Text.setText("fr","You can't upload files of this type.","Ce type de fichier n'est pas pris en charge"),ITVenture.Text.setText("fr","Server responded with code","Le serveur a renvoyé le code d'erreur suivant : {{statusCode}}"),ITVenture.Text.setText("fr","Cancel upload","Annuler le téléchargement "),ITVenture.Text.setText("fr","Are you sure you want to cancel this upload?","Le téléchargement doit-il vraiment être interrompu?"),ITVenture.Text.setText("fr","Remove file","Supprimer le fichier"),ITVenture.Text.setText("fr","You can not upload any more files.","Vous ne pouvez plus télécharger de fichiers."),ITVenture.Text.setText("it","Popup_General_OK","OK"),ITVenture.Text.setText("it","Popup_General_Cancel","Annulla"),ITVenture.Text.setText("it","Popup_Confirm_Title","Confermare"),ITVenture.Text.setText("it","Popup_Alert_Title","Informazioni"),ITVenture.Text.setText("it","Popup_Input_Title","Ingresso"),ITVenture.Text.setText("it","Popup_PdfView_Title","Visualizzazione PDF"),ITVenture.Text.setText("it","FKHelp_Resolve_Wait","Aspetta, per favore..."),ITVenture.Text.setText("it","TableHelp_DeleteConfirm_Body","Questo record deve davvero essere cancellato?"),ITVenture.Text.setText("it","ITVHelpers_generatedLEH_FAIL","Il server ha segnalato un errore. Il comando potrebbe non essere stato eseguito completamente."),ITVenture.Text.setText("it","ITVGlobal_Disable_Reorder","Spegnere la selezione manuale"),ITVenture.Text.setText("it","ITVGlobal_Enable_Reorder","Attivare la selezione manuale"),ITVenture.Text.setText("it","ITVTools_Uploader_Success_Message","caricamento riuscito"),ITVenture.Text.setText("it","Drop files here to upload","Trascina i file da caricare qui."),ITVenture.Text.setText("it","Your browser does not support drag'n'drop file uploads.","Il tuo browser non supporta il Drag&Drop uploads."),ITVenture.Text.setText("it","Please use the fallback form below to upload your files like in the olden days.","Utilizzare il modulo per caricare i file."),ITVenture.Text.setText("it","File is too big.","Il file è troppo grande ({{filesize}}MiB). Dimensione massima del file: {{maxFilesize}}MiB"),ITVenture.Text.setText("it","You can't upload files of this type.","Questo tipo di file non è supportato"),ITVenture.Text.setText("it","Server responded with code","Il server ha restituito il seguente codice di errore: {{statusCode}}"),ITVenture.Text.setText("it","Cancel upload","Annulla l'upload"),ITVenture.Text.setText("it","Are you sure you want to cancel this upload?","L'upload deve davvero essere interrotto?"),ITVenture.Text.setText("it","Remove file","Rimuovi file"),ITVenture.Text.setText("it","You can not upload any more files.","Non è possibile caricare altri file."),ITVenture.Tools.AssemblyAnalyzer={CreateAnalyzerPopup:function(){var e={refObj:null,acceptCallbacks:[],showCallbacks:[],cancelCallbacks:[],closedCallbacks:[],window:$('<div id="assemblyAnalyzerRoot" width="100%" height="100%"><i>Assembly Beschreiben: </i><input id="AssemblyBox" /><a class="k-button k-button-icontext" href="#" title="Abrufen" onclick="ITVenture.Tools.AssemblyAnalyzer.renderAssemblyInfo(this);"><span class="fad fa-eye"></span>&nbsp;Abrufen</a><div id="PluginDetailInfo" /></div>')};return e.PluginDetailInfo=$(e.window.find("#PluginDetailInfo")),e.PluginTextBox=$(e.window.find("#AssemblyBox")),e.window.kendoWindow({visible:!1,title:"Assembly Analyzer",minWidth:300,minHeight:100,modal:!0,scrollable:!1,position:{top:"30%",left:"30%"}}),(e=ITVenture.Tools.Popup.EnrichWindow(e)).onClosed((function(e,t,n){var o=e.data("itvDialog");o.PluginTextBox.val(""),o.PluginDetailInfo.html("")})),e},renderAssemblyInfo:function(e){var t=ITVenture.Tools.Popup.FindDialog(e).data("itvDialog"),n=t.PluginTextBox.val(),o=t.refObj.concat("?AssemblyName=").concat(n);ITVenture.Tools.AssemblyAnalyzerDataSource.InitializeFor(t.PluginDetailInfo),$.ajax({url:o,success:function(e){t.PluginDetailInfo.html(e)}})}},$((function(){ITVenture.Tools.Popup.dialogs.assemblyAnalyzer=ITVenture.Tools.AssemblyAnalyzer.CreateAnalyzerPopup()}));