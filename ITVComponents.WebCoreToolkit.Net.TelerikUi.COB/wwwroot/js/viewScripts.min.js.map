{"version":3,"file":"viewScripts.min.js","mappings":"AAACA,UAAUC,MAAMC,oBAAsB,CACnCC,WAAYC,eAAgBC,GAExBC,QAAQC,IAAIF,GACZA,EAAEG,iBACF,IAAIC,EAASC,EAAEL,EAAEM,eAGjB,GAFAL,QAAQC,IAAIE,EAAOG,KAAK,OACXH,EAAOI,KAAK,yBAAyBC,WACtC,CACR,IAAIC,EAAWN,EAAOO,YAClBC,EAAaR,EAAOG,KAAK,UACzBM,EAAMlB,UAAUmB,KAAKC,aAAaH,EAAYF,EAAU,QACxDM,QAAYH,EAEhBZ,QAAQC,IAAIW,GACZZ,QAAQC,IAAIc,GAEZ,IAAIC,EAAS,GACb,GAAmB,iBAARD,EAAkB,CACzB,IAAK,IAAIE,KAAQF,EACb,GAAIA,EAAIG,eAAeD,IAAkB,KAATA,EAAa,CACzC,IAAIE,EAAaJ,EAAIE,GACjBG,EAAMhB,EAAE,qBAAqBiB,OAAOJ,GAAMI,OAAO,MAAOlB,GAC5DT,UAAUC,MAAMC,oBAAoB0B,sBAAsBH,EAAYH,EAAQI,EAClF,MACQD,EAAaJ,EAAIE,GACrBvB,UAAUC,MAAMC,oBAAoB0B,sBAAsBH,EAAYH,GAI9E,GAAsB,IAAlBA,EAAOO,OAAc,CACrB,IAAIC,EAAK9B,UAAUC,MAAMC,oBAAoB6B,oBAAoBT,GAC7DU,EAAOtB,EAAE,6BAA8BD,GACxB,GAAfuB,EAAKH,QACLG,EAAKC,KAAKH,EAElB,CACJ,KACwB,iBAART,IACZa,OAAOC,SAASC,KAAOf,EAE/B,CACJ,EACAO,sBAAuB,SAAUH,EAAYH,EAAQe,GACjD,GAAiC,IAA7BZ,EAAWa,OAAOT,OAAc,CAEhC,IADA,IAAIU,EAAI,GACCC,EAAI,EAAGA,EAAIf,EAAWa,OAAOT,OAAQW,IAAK,CAC/C,IAAIC,EAAMhB,EAAWa,OAAOE,GAAGE,aAC3BC,EAAe3C,UAAU4C,MAAMC,WAAWC,OAAOL,GACrDF,EAAIA,EAAEZ,OAAO,OAAOA,OAAOgB,GAAchB,OAAO,QAChDL,EAAOyB,KAAKJ,EAChB,MAE2B,IAAhBN,GACPA,EAAYJ,KAAKM,EAEzB,CACJ,EACAR,oBAAqB,SAAUT,GAE3B,IADA,IAAIiB,EAAI,OACCC,EAAI,EAAGA,EAAIlB,EAAOO,OAAQW,IAC/BD,EAAIA,EAAEZ,OAAO,QAAQA,OAAOL,EAAOkB,IAAIb,OAAO,SAGlD,OADAY,EAAIA,EAAEZ,OAAO,QAEjB,GCjEE3B,UAAUC,MAAM+C,WAClBhD,UAAUC,MAAM+C,SAAW,CAAC,GAGhChD,UAAUC,MAAM+C,SAASC,SAAW,CAChCC,qBAAsB,WAClB,OAAOxC,EAAE,2BAA2BG,KAAK,eAAesC,OAC5D,GCPEnD,UAAUC,MAAM+C,WAClBhD,UAAUC,MAAM+C,SAAW,CAAC,GAGhChD,UAAUC,MAAM+C,SAASI,UAAY,CACjCC,iBAAkBjD,eAAeC,GAC7B,IAAIiD,EAAK5C,EAAEL,EAAEM,eAAe4C,QAAQ,MAIhCC,EAAU,CACVC,cAJQH,EAAGC,QAAQ,WAAW1C,KAAK,aACtB6C,SAASJ,GAGDG,eAIrBE,EAAK,KACT,IACIA,QAAW3D,UAAUmB,KAAKC,aARpB,+DASFoC,EACA,OACA,MACA,WACI,IAAII,EAAQlD,EAAE,4CAA4CmD,MAC1DC,KAAKjD,KAAKkD,2BAA6BH,CAC3C,IACJtD,QAAQC,IAAIoD,EAChB,CAAE,MAAOK,GACLL,EAAKK,EAAGC,OACZ,OACMjE,UAAU4C,MAAMsB,MAAMC,UAAU,QAASR,GAC/CxB,SAASiC,QACb,EACAC,gBAAiB,SAASC,GACtB,OAAoB,IAAbA,EAAEC,MACb","sources":["webpack://app/../../../users/mw/source/cleanworkspace/ITVComponents-Public/ITVComponents.WebCoreToolkit.Net.TelerikUi.COB/Areas/Identity/js/Shenanigans.js","webpack://app/../../../users/mw/source/cleanworkspace/ITVComponents-Public/ITVComponents.WebCoreToolkit.Net.TelerikUi.COB/Areas/Identity/js/Register.js","webpack://app/../../../users/mw/source/cleanworkspace/ITVComponents-Public/ITVComponents.WebCoreToolkit.Net.TelerikUi.COB/Areas/Identity/js/MyTenants.js"],"sourcesContent":["﻿ITVenture.Pages.IdentityShenanigans = {\r\n    OnFormPost: async function (e) {\r\n        debugger;\r\n        console.log(e);\r\n        e.preventDefault();\r\n        var target = $(e.currentTarget);\r\n        console.log(target.attr(\"id\"));\r\n        var formOk = target.data(\"unobtrusiveValidation\").validate();\r\n        if (formOk) {\r\n            var postData = target.serialize();\r\n            var postTarget = target.attr(\"action\");\r\n            var req = ITVenture.Ajax.ajaxFormPost(postTarget, postData, \"json\");\r\n            var ret = await req;\r\n\r\n            console.log(req);\r\n            console.log(ret);\r\n\r\n            var errors = [];\r\n            if (typeof ret === \"object\") {\r\n                for (var name in ret) {\r\n                    if (ret.hasOwnProperty(name) && name !== \"\") {\r\n                        var validation = ret[name];\r\n                        var ctl = $(\"[data-valmsg-for='\".concat(name).concat(\"']\"), target);\r\n                        ITVenture.Pages.IdentityShenanigans.processValidationItem(validation, errors, ctl);\r\n                    } else {\r\n                        var validation = ret[name];\r\n                        ITVenture.Pages.IdentityShenanigans.processValidationItem(validation, errors);\r\n                    }\r\n                }\r\n\r\n                if (errors.length !== 0) {\r\n                    var ls = ITVenture.Pages.IdentityShenanigans.buildValidationList(errors);\r\n                    var summ = $(\"[data-valmsg-summary=true]\", target);\r\n                    if (summ.length != 0) {\r\n                        summ.html(ls);\r\n                    }\r\n                }\r\n            }\r\n            else if (typeof ret === \"string\") {\r\n                window.location.href = ret;\r\n            }\r\n        }\r\n    },\r\n    processValidationItem: function (validation, errors, htmlElement) {\r\n        if (validation.Errors.length !== 0) {\r\n            var p = \"\";\r\n            for (var i = 0; i < validation.Errors.length; i++) {\r\n                var err = validation.Errors[i].ErrorMessage;\r\n                var encodedError = ITVenture.Tools.HtmlHelper.encode(err);\r\n                p = p.concat(\"<p>\").concat(encodedError).concat(\"</p>\");\r\n                errors.push(encodedError);\r\n            }\r\n\r\n            if (typeof htmlElement !== \"undefined\") {\r\n                htmlElement.html(p);\r\n            }\r\n        }\r\n    },\r\n    buildValidationList: function (errors) {\r\n        var p = \"<ul>\";\r\n        for (var i = 0; i < errors.length; i++) {\r\n            p = p.concat(\"<li>\").concat(errors[i]).concat(\"</li>\");\r\n        }\r\n        p = p.concat(\"</ul>\");\r\n        return p;\r\n    }\r\n}","﻿if (!ITVenture.Pages.Identity) {\r\n    ITVenture.Pages.Identity = {};\r\n}\r\n\r\nITVenture.Pages.Identity.Register = {\r\n    RequireInvoiceFields: function () {\r\n        return $(\"[name='UseInvoiceAddr']\").data(\"kendoSwitch\").value();\r\n    }\r\n};\r\n\r\n","﻿if (!ITVenture.Pages.Identity) {\r\n    ITVenture.Pages.Identity = {};\r\n}\r\n\r\nITVenture.Pages.Identity.MyTenants = {\r\n    AcceptInvitation: async function(e) {\r\n        var tr = $(e.currentTarget).closest(\"tr\");\r\n        var table = tr.closest(\".k-grid\").data(\"kendoGrid\");\r\n        var item = table.dataItem(tr);\r\n        var url = \"~/Identity/Account/Manage/MyTenants?handler=AcceptInvitation\";\r\n        var postObj = {\r\n            CompanyInfoId : item.CompanyInfoId\r\n        }\r\n\r\n        //var result = ITVenture.Ajax.ajaxFormPost\r\n        var ok = null;\r\n        try {\r\n            ok = await ITVenture.Ajax.ajaxFormPost(url,\r\n                postObj,\r\n                \"text\",\r\n                null,\r\n                function() {\r\n                    var token = $('input[name=\"__RequestVerificationToken\"]').val();\r\n                    this.data.__RequestVerificationToken = token;\r\n                });\r\n            console.log(ok);\r\n        } catch (ex) {\r\n            ok = ex.Message;\r\n        }\r\n        await ITVenture.Tools.Popup.OpenAsync(\"alert\", ok);\r\n        location.reload();\r\n    },\r\n    AcceptAvailable: function(m) {\r\n        return m.Status === 1;\r\n    }\r\n}"],"names":["ITVenture","Pages","IdentityShenanigans","OnFormPost","async","e","console","log","preventDefault","target","$","currentTarget","attr","data","validate","postData","serialize","postTarget","req","Ajax","ajaxFormPost","ret","errors","name","hasOwnProperty","validation","ctl","concat","processValidationItem","length","ls","buildValidationList","summ","html","window","location","href","htmlElement","Errors","p","i","err","ErrorMessage","encodedError","Tools","HtmlHelper","encode","push","Identity","Register","RequireInvoiceFields","value","MyTenants","AcceptInvitation","tr","closest","postObj","CompanyInfoId","dataItem","ok","token","val","this","__RequestVerificationToken","ex","Message","Popup","OpenAsync","reload","AcceptAvailable","m","Status"],"sourceRoot":""}